<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Buổi 4</title>
</head>

<body>


    <!-- <script>
        function SinhVien(maSinhVien, tenSinhVien, ngaySinh, lop) {
            //SinhVien sẽ có thuộc tính maSinhVien
            // và gtri là tham số maSinhVien truyền vào
            this.maSinhVien = maSinhVien;
            this.tenSinhVien = tenSinhVien;
            this.ngaySinh = ngaySinh;
            this.lop = lop;
            this.diemCacMon = diemCacMon;
            (this.showInfor = function() {
                console.log(this.tenSinhVien);
            }),
            (this.tinhDiemTB = function() {
                var diemTB = 0;
                for (i = 0; i < this.diemCacMon.length; i++) {
                    var diem = this.diemCacMon[i].diem || 0;
                    tongDiem += diem;
                }
                return (tongDiem / this.diemCacMon.length);
            });
        }
        var nam = new SinhVien("PH123456", "NV NAM", "10/10/2000", "WE17101", [{
            tenMon: "JS NÂNG CAO",
            diem: "4.9"
        }, {
            tenMon: "JS CƠ BẢN",
            diem: "9.4"
        }]);
        // nam.showInfor();
        console.log(nam.tinhDiemTB());


    </script> -->

    <div class="">
        <input type="text" name="" placeholder="THÊM GIẢI THƯỞNG" id="themGT">
        <button onclick="themGiaiThuong()">THÊM</button>
    </div>
    <div>
        <table>
            <thead>
                <tr>
                    <th>Tên giải thưởng</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Giải 1</td>
                </tr>
                <tr>
                    <td>Giải 2</td>
                </tr>
            </tbody>
        </table>
    </div>


    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.3/moment.min.js"></script>
    <script>
        function vanDongVien(
            ma_van_dong_vien,
            ho_va_ten,
            ngay_sinh,
            giai_thuong
        ) {
            this.ma_van_dong_vien = ma_van_dong_vien;
            this.ho_va_ten = ho_va_ten;
            this.ngay_sinh = ngay_sinh;
            this.giai_thuong = giai_thuong;

            this.kiemTraDieuKien = function(ngay_to_chuc, tuoi_du_dk) {
                // từ ngày sinh -> ngày tổ chức cách nhau bn năm, số năm đó có lớn hơn tuôi tuổi ko?
                var ngaySinhMoment = moment(this.ngay_sinh, 'DD/MM/YYYY');
                var ngayToChucMoment = moment(ngay_to_chuc, 'DD/MM/YYYY');
                var tuoiDiThi = ngayToChucMoment.diff(ngaySinhMoment, 'YEARS');
                // Số năm đó có lớn hơn tuổi ko?
                if (tuoiDiThi > tuoi_du_dk) {
                    return true;
                }
                return false;
            }
            this.danhSachGiaiThuong = function() {
                console.log(this.giai_thuong);
                var tbodyElement = document.querySelector('tbody');
                var tbodyContent = '';
                for (i = 0; i < this.giai_thuong.length; i++) {
                    tbodyContent += '<tr><td>' + this.giai_thuong[i] + '</td></tr>';
                }
                tbodyElement.innerHTML = tbodyContent;
            }
            this.themGiaiThuong = function(giai_thuong_moi) {
                this.giai_thuong.push(giai_thuong_moi);
                this.danhSachGiaiThuong();
            }
        }
        var congPhuong = new vanDongVien('CP', 'NCP', '10/10/1995', []);
        // var kq = congPhuong.kiemTraDieuKien('12/05/2022', 18);
        // console.log(kq);
        congPhuong.themGiaiThuong('Cầu thủ xuất sắc nhất');
        congPhuong.danhSachGiaiThuong('Cầu thủ chân gỗ');
        congPhuong.themGiaiThuong('Cầu thủ đẹp trai nhất');
        congPhuong.danhSachGiaiThuong();

        function themGiaiThuong() {
            const giaiThuong = document.getElementById('themGT').value;
            congPhuong.themGiaiThuong(giaiThuong);
        }


        // var pvm = new vanDongVien('PVM', 'PHẠM VĂN MÁCH', '10/10/1990', '');
        // console.log(pvm.kiemTraDieuKien('12/05/2000', 18));
    </script>

</body>

</html>